{"version":3,"file":"GridLayoutWc.js","sourceRoot":"","sources":["../../src/GridLayoutWc.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, LitElement } from 'lit';\nimport { property, state } from 'lit/decorators.js';\ninterface ItemData {\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n}\ninterface GridItemData extends ItemData {\n  id: number;\n  z: number;\n  selected?: boolean;\n  dataSource?: any;\n  time?: number;\n  title?: string;\n  float?: boolean;\n  slot?: string;\n  style?: { left: number, top: number, width: number, height: number }\n}\ntype HtmlPosition = {\n  left: number;\n  top: number;\n}\ntype GridPosition = {\n  x: number;\n  y: number;\n}\ntype StyleType = {\n  borderWidth:number;\n  borderColor:string;\n  borderStyle:string;\n  backgroundColor:string;\n}\nconst DRAG_ID = 100000;\n\nexport class GridLayoutWc extends LitElement {\n  @state() RenderIndex: number = 0; //这个属性改动，页面才会render\n  @state() stylemap:StyleType = { borderWidth:1, borderColor:'', borderStyle:'', backgroundColor:'' };\n  @property({ type: Number }) griddingWidth = 10;\n  @property({ type: Number }) gridMargin = 1;\n  @property({ type: Boolean }) edit = false;\n  @property({ type: Array }) layoutData: GridItemData[] = [];\n  oldLayoutData:string = \"\";\n  styleMapEditing:boolean = false;\n  dragData = { x: 0, y: 0, w: 60, h: 60, z: 0, id: DRAG_ID };\n  draggIng: boolean = false;\n  // stageHeight: number = 0;\n  stageWidth: number = 1000;\n\n  /** resize相关 */\n  resizeFixPosition: any = { top: 0, left: 0 };\n  resizeingPosition: any = { top: 0, left: 0 };\n  resizeFixGridItemData:GridItemData|null = null;\n  curResizingGridItemData: any | null = null;\n  \n  dataStore: any[] = [];\n  dataStoreIndex: number = 0;\n  curMovingGridItemData: any | null = null;\n  movePosition: HtmlPosition = { left: 0, top: 0 };\n  fixPosition: HtmlPosition = { left: 0, top: 0 };\n  oldPosition: HtmlPosition = { left: 0, top: 0 };\n  transition: boolean = false;\n  drawDragDataHtml() {\n    return html`<div class=\"grid-item drag\" drag=\"${true}\" style=\"${this.getGridItemStyle(this.dragData)}\"></div>`\n  }\n  constructor() {\n    super();\n  }\n  //查找GridItem\n  findGridItemData = (id: any): GridItemData | undefined => {\n    return this.layoutData.find((item: GridItemData) => item.id === id);\n  }\n  //add\n  addGridItem() {\n    const w = 30;\n    const h = 12;\n    let { x, y } = this.getEmptyBound(w, h);\n    let time = new Date().getTime();\n    const item: GridItemData = { x, y, w, h, z: 0, id: time, title: time.toString() };\n    this.layoutData.push(item);\n    this.RenderIndex++;\n    this.saveCurLayout();\n  }\n  /**\n   * 获取空间的位置\n   * @param w \n   * @param h \n   * @returns { x, y }\n   */\n  getEmptyBound(w: number, h: number) {\n\n    this.stageWidth = this.getBoundingClientRect().width;\n    let x = this.gridMargin, y = this.gridMargin;\n    let item = this.findBigestOverlapItem(this.layoutData, x, y, w, h);\n    while (item) {\n      x = item.x + item.w + this.gridMargin;\n      if ((x + this.gridMargin) * this.griddingWidth + w * this.griddingWidth > this.stageWidth) {\n        y += this.gridMargin;\n        x = this.gridMargin;\n      }\n      item = this.findBigestOverlapItem(this.layoutData, x, y, w, h);\n    }\n    return { x, y };\n  }\n  /**\n   * 查找存在的最大的重叠交叉项\n   * */\n  findBigestOverlapItem = (dataList:GridItemData[],x: number, y: number, w: number, h: number, exceptIds?: any[]): GridItemData | undefined => {\n    const list = this.findOverlapItem(dataList,x, y, w, h, exceptIds);\n    let BigestOverlapArea = -99999999999; //最大的重叠交叉面积\n    let BigestOverlapItem: any = undefined;\n    list.forEach((item: any) => {\n      let curItemX = item.x;\n      let curItemY = item.y;\n      let curItemW = item.w;\n      let curItemH = item.h;\n      // if (this.curActiveGridItem && this.curActiveGridItem.id === item.id && this.dragData) {\n      //   curItemX = this.dragData.x;\n      //   curItemY = this.dragData.y;\n      //   curItemW = this.dragData.w;\n      //   curItemH = this.dragData.h;\n      // }\n      const overX1 = Math.max(x, curItemX);\n      const overX2 = Math.min(x + w, curItemX + curItemW);\n      const overW = overX2 - overX1;\n      const overY1 = Math.max(y, curItemY);\n      const overY2 = Math.min(y + h, curItemY + curItemH);\n      const overH = overY2 - overY1;\n      const overArea = overH * overW;\n      if (overArea > BigestOverlapArea) {\n        BigestOverlapArea = overArea;\n        BigestOverlapItem = item;\n      }\n    });\n\n    return BigestOverlapItem;\n  }\n  /**\n   * 获取交叉的GridItem 列表\n   * @param x x\n   * @param y y\n   * @param w w\n   * @param h h\n   * @param exceptIds 排序的id\n   * @returns 交叉的GridItem 列表\n   */\n  findOverlapItem = (dataList:GridItemData[],x: number, y: number, w: number, h: number, exceptIds?: any[], overCount:number = 0): GridItemData[] => {\n   \n    const list: GridItemData[] = [];\n    let data = dataList.filter((item: any) => !item.float);\n    if(this.curActiveGridItem && this.dragData ) {\n      if(!data.find(item => item.id ===this.dragData.id)){\n        data = [...data,this.dragData]\n      }\n      \n    }\n    for (let i = 0; i < data.length; i++) {\n      let item = data[i];\n      if (exceptIds && exceptIds.indexOf(item.id) >= 0) {\n        continue;\n      }\n      let curItemX = item.x;\n      let curItemY = item.y;\n      let curItemW = item.w;\n      let curItemH = item.h;\n      // if (this.curActiveGridItem && this.curActiveGridItem.id === item.id && this.dragData) {\n      //   curItemX = this.dragData.x;\n      //   curItemY = this.dragData.y;\n      //   curItemW = this.dragData.w;\n      //   curItemH = this.dragData.h;\n      // }\n      let x1 = Math.min(curItemX, x);\n      let x2 = Math.max(curItemX + curItemW, x + w);\n\n\n      let y1 = Math.min(curItemY, y);\n      let y2 = Math.max(curItemY + curItemH, y + h);\n\n      //是否存在交叉的算法\n      if (((x2 - x1) - (curItemW + w) + overCount) < this.gridMargin &&\n        ((y2 - y1) - (curItemH + h) + overCount) < this.gridMargin ) {\n        list.push(item);\n      }\n    }\n    return list;\n  }\n  /**\n   * Resize start\n   * @param event MouseEvent\n   */\n  gridItemResizeStart(event: MouseEvent) {\n    if (!this.edit) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    const index = this.getGridItemIndex(event.currentTarget);\n    this.curResizingGridItemData = this.layoutData[index];\n    this.resizeFixGridItemData = {...this.layoutData[index]};\n    this.resizeFixPosition.left = event.clientX;\n    this.resizeFixPosition.top = event.clientY;\n    this.resizeingPosition.left = event.clientX;\n    this.resizeingPosition.top = event.clientY;\n    this.transition = true;\n    this.RenderIndex++;\n    document.body.setAttribute(\"onselectstart\", \"return false\");\n    document.body.style.cursor = \"se-resize\";\n\n    const mouseMove = (event: MouseEvent) => {\n      this.gridItemResizeing(event)\n    }\n    let { x, y, w, h, id } = this.curResizingGridItemData;\n    this.dragData.x = x;\n    this.dragData.y = y;\n    this.dragData.w = w;\n    this.dragData.h = h;\n\n    const mouseup = () => {\n      document.body.removeAttribute(\"onselectstart\");\n      document.body.style.cursor = \"\";\n      this.gridItemResizeEnd();\n      window.removeEventListener(\"mousemove\", mouseMove);\n      window.removeEventListener(\"mouseup\", mouseup);\n    }\n    window.addEventListener(\"mousemove\", mouseMove);\n    window.addEventListener(\"mouseup\", mouseup);\n  }\n  /**\n   * resizeing\n   * @param event \n   */\n  gridItemResizeing(event: any) {\n    if (!this.edit) return;\n    this.resizeingPosition.left = event.clientX;\n    this.resizeingPosition.top = event.clientY;\n    if(!this.resizeFixGridItemData) return;\n    let w = this.resizeFixGridItemData?.w + Math.round((this.resizeingPosition.left - this.resizeFixPosition.left) / this.griddingWidth);\n    let h = this.resizeFixGridItemData?.h + Math.round((this.resizeingPosition.top - this.resizeFixPosition.top) / this.griddingWidth);\n    let x = this.resizeFixGridItemData?.x;\n    let y = this.resizeFixGridItemData?.y;\n    let z = this.resizeFixGridItemData?.z;\n\n    if (this.curResizingGridItemData.float) {\n      this.draggIng = true;\n      this.dragData.x = x;\n      this.dragData.y = y;\n      this.dragData.w = w;\n      this.dragData.h = h;\n      this.dragData.z = z;\n      this.curResizingGridItemData.style = { width:w * this.griddingWidth, height:h* this.griddingWidth, left: x * this.griddingWidth, top: y * this.griddingWidth };\n      this.RenderIndex++;\n      return;\n    }\n    let height = this.resizeFixGridItemData.h * this.griddingWidth + (this.resizeingPosition.top - this.resizeFixPosition.top)\n    let width = this.resizeFixGridItemData.w * this.griddingWidth + (this.resizeingPosition.left - this.resizeFixPosition.left);\n    if (width > this.stageWidth - x * this.griddingWidth) {\n      width = this.stageWidth - x * this.griddingWidth;\n    }\n    this.curResizingGridItemData.style = { width, height, left: x * this.griddingWidth, top: y * this.griddingWidth };\n    w < 100 ? 100 : w;\n    h < 50 ? 50 : h;\n\n    /** 不允许超出griddingWidth */\n    w = w * this.griddingWidth <= this.stageWidth - (x + this.gridMargin) * this.griddingWidth ?\n      w : Math.floor(this.stageWidth / this.griddingWidth) - x - this.gridMargin;\n    this.draggIng = true;\n    this.dragData.x = x;\n    this.dragData.y = y;\n    this.dragData.w = w;\n    this.dragData.h = h;\n    this.rearrangement();\n    this.RenderIndex++;\n  }\n  /**\n   * Resize end\n   */\n  gridItemResizeEnd() {\n    if (!this.edit) return;\n    this.draggIng = false;\n    let { x, y, w, h } = this.dragData;\n    this.curResizingGridItemData.x = x;\n    this.curResizingGridItemData.y = y;\n    this.curResizingGridItemData.w = w;\n    this.curResizingGridItemData.h = h;\n    delete this.curResizingGridItemData.style;\n    this.curResizingGridItemData = null;\n    this.rearrangement();\n    this.transition = false;\n    this.RenderIndex++;\n    this.saveCurLayout();\n  }\n  /**\n   * ItemStyle事件\n   * @param data GridItemData\n   * @returns \n   */\n  getGridItemStyle(data: GridItemData) {\n    const ActiveZindex = 10000;\n    const DragZInxex = 9999;\n    const FloatZindex = 100000;\n\n    if (data.style) {\n      return `\n      transition:none;\n      left:${data.style.left}px;\n      top:${data.style.top}px;\n      z-index:${data.float ? FloatZindex + data.z || 0 : ActiveZindex};\n      width:${data.style.width}px; \n      height:${data.style.height}px`;\n    }\n    const style = { left: data.x * this.griddingWidth, top: data.y * this.griddingWidth, width: data.w * this.griddingWidth, height: data.h * this.griddingWidth };\n    let zIndex = data.z || 0;\n    if (data.id === DRAG_ID) zIndex = DragZInxex;\n    if (data.float) zIndex = FloatZindex + data.z || 0;\n\n    return `\n      left:${style.left}px;\n      top:${style.top}px;\n      z-index:${zIndex};\n      width:${style.width}px; \n      height:${style.height}px`;\n  }\n  /** 保存Layout */\n  saveCurLayout() {\n    let jsonstr = JSON.stringify(this.layoutData);\n    let json = JSON.stringify(JSON.parse(jsonstr).map((item:any) => {\n      delete item.time;\n      delete item.selected;\n      return item;\n    }));\n    if (json != this.dataStore[this.dataStoreIndex]) {\n        this.dataStoreIndex++;\n        this.dataStore[this.dataStoreIndex] = json;\n    }\n  }\n  /** 移除GridImte */\n  gridItemClose(event: PointerEvent) {\n    const index = this.getGridItemIndex(event.currentTarget);\n    this.layoutData.splice(index,1);\n    this.transition = false;\n    this.rearrangement();\n    this.RenderIndex ++;\n  }\n  getGridItemIndex(target: any) {\n    const grid: HTMLElement | null = target?.closest('.grid-item') || null;\n    return Number(grid?.dataset.index || '0');\n  }\n  getGridItem(target: any) {\n    const index = this.getGridItemIndex(target);\n    return this.layoutData[index];\n  }\n  /**\n   * 拖拽开始\n   * @param event PointerEvent\n   * @returns void\n   */\n  gridItemDragstart(event: PointerEvent) {\n    if (!this.edit) return;\n    const target: any = event?.target;\n    if (target?.closest('.grid-item-close')) {\n      this.styleMapEditing = false;\n      this.gridItemClose(event);\n      return;\n    }\n    if (target?.closest('.set-float')) {\n      this.gridItemFloat(event);\n      return;\n    }\n\n    event.preventDefault();\n    const grid = this.getGridItem(event.currentTarget);\n    if(this.curSelectGridItem && this.curSelectGridItem.id !== grid.id){\n      this.styleMapEditing = false;\n    }\n    this.curMovingGridItemData = grid;\n    if (!this.curMovingGridItemData) return;\n    const { w, h, x, y, id } = this.curMovingGridItemData;\n    this.movePosition = {\n      left: this.curMovingGridItemData.x * this.griddingWidth,\n      top: this.curMovingGridItemData.y * this.griddingWidth\n    };\n    this.fixPosition.left = event.clientX;\n    this.fixPosition.top = event.clientY;\n    this.oldPosition.left = this.movePosition.left;\n    this.oldPosition.top = this.movePosition.top;\n    this.layoutData.forEach((item) => { if (item.id !== this.curMovingGridItemData.id) delete item.selected });\n    this.curMovingGridItemData.selected = true;\n    this.dragData.w = w;\n    this.dragData.h = h;\n    this.dragData.x = x;\n    this.dragData.y = y;\n    this.transition = true;\n    this.oldLayoutData = JSON.stringify(this.layoutData);\n    this.RenderIndex ++;\n    const onDragging: any = (event: PointerEvent) => {\n      if(!this.curMovingGridItemData) return;\n      this.curMovingGridItemData.selected = true;\n      this.movePosition.left = this.oldPosition.left + (event.clientX - this.fixPosition.left);\n      this.movePosition.top = this.oldPosition.top + (event.clientY - this.fixPosition.top);\n\n      if (!this.edit) return;\n      this.draggIng = true;\n\n      const { w, h, id } = this.curMovingGridItemData;\n      this.dragData.w = w;\n      this.dragData.h = h;\n\n      let height = this.curMovingGridItemData.h * this.griddingWidth;\n      let width = this.curMovingGridItemData.w * this.griddingWidth;\n\n      this.curMovingGridItemData.style = { width, height, left: this.movePosition.left, top: this.movePosition.top }\n      const { x, y } = this.calcNearPosition(this.movePosition.left, this.movePosition.top);\n      if (this.curMovingGridItemData.float) {\n        this.dragData.x = x;\n        this.dragData.y = y;\n        this.RenderIndex++;\n        return;\n      }\n      const newPos = this.getNearEmptyPosition({ x, y, w, h, id: 0, z: 0 });\n      if (newPos) {\n        this.dragData.x = newPos.x;\n        this.dragData.y = newPos.y;\n      }\n      this.rearrangement();\n      this.RenderIndex++;\n    };\n    const onDragEnd: any = () => {\n      if (!this.edit) return;\n      this.draggIng = false;\n      if(!this.curMovingGridItemData) return;\n      delete this.curMovingGridItemData.style\n      this.curMovingGridItemData.x = this.dragData.x;\n      this.curMovingGridItemData.y = this.dragData.y;\n      this.curMovingGridItemData.time = new Date().getTime();\n      this.curMovingGridItemData = null;\n      this.transition = false;\n      this.oldLayoutData = \"\";\n      this.RenderIndex++;\n      this.saveCurLayout();\n      document.body.removeAttribute(\"onselectstart\");\n      window.removeEventListener(\"mousemove\", onDragging);\n      window.removeEventListener(\"mouseup\", onDragEnd);\n    }\n    document.body.setAttribute(\"onselectstart\", \"return false\");\n    window.addEventListener(\"mousemove\", onDragging);\n    window.addEventListener(\"mouseup\", onDragEnd);\n  }\n  /**\n   * 转换成的GidPosition\n   * @param left style.left\n   * @param top style.top\n   * @returns {x,y}\n   */\n  calcNearPosition = (left: number, top: number): GridPosition => {\n    let x = Math.round(left / this.griddingWidth);\n    let y = Math.round(top / this.griddingWidth);\n    return { x, y };\n  }\n\n  /**\n   * 获取最近的空间\n   * @param grid :GridItemData\n   * @returns {x,y}\n   */\n  getNearEmptyPosition(grid: GridItemData) {\n    let { x,y,w,h} = grid;\n    if(y < this.gridMargin) y = this.gridMargin;\n    if(x < this.gridMargin) x = this.gridMargin;\n    x = x < this.gridMargin ? this.gridMargin : x;\n    x = (x + w + this.gridMargin) > Math.floor(this.stageWidth / this.griddingWidth) ?\n      Math.floor(this.stageWidth / this.griddingWidth) - this.gridMargin - w : x;\n    const overList = this.findOverlapItem(this.layoutData,x,y,w,h,[this.dragData.id,this.curActiveGridItem.id]);\n    overList.forEach( overItem => {\n      let overW = w + overItem.w - (Math.max(x + w , overItem.x + overItem.w) - Math.min(x , overItem.x));\n      let overH = h + overItem.h - (Math.max(y + h , overItem.y + overItem.h) - Math.min(y , overItem.y));\n      if( overH < overW){\n        if( overH < 10) {\n          if(y < overItem.y)  y =overItem.y - h - this.gridMargin;\n          else y = overItem.y + overItem.h + this.gridMargin ;\n        }\n      }else {\n        if( overW < 10) {\n          if(x < overItem.x)  x = overItem.x - w - this.gridMargin;\n          else return x =overItem.x + overItem.w + this.gridMargin;\n        }\n      }\n    });\n    return { x, y };\n  }\n\n  /**\n   * 返回 上次的layout\n   * @returns JSON\n   */\n  getBackLayout = () => {\n    this.dataStoreIndex--;\n    return this.dataStore[this.dataStoreIndex]\n  }\n  /**\n   * 打开上次的保存layout\n   */\n  backLayout = () => {\n    const data = this.getBackLayout();\n    if (data) {\n      this.layoutData = JSON.parse(data);\n    }\n  }\n  /** 下一个layout */\n  getForwardLayout = () => {\n    this.dataStoreIndex = this.dataStore.length - 1 > this.dataStoreIndex ? this.dataStoreIndex + 1 : this.dataStore.length - 1;\n    return this.dataStore[this.dataStoreIndex]\n  }\n  /** 打开下一步的layout */\n  forwardLayout = () => {\n    const data = this.getForwardLayout();\n    if (data) {\n      this.layoutData = JSON.parse(data);\n    }\n  }\n  //关闭事件\n  close = () => {\n    const emit: any = new Event('close');\n    emit.detail = this.layoutData;\n    this.dispatchEvent(emit);\n  }\n  save = () => {\n    const emit: any = new Event('save');\n    emit.detail = this.layoutData;\n    this.dispatchEvent(emit);\n  }\n  //浮动事件\n  gridItemFloat = (event: PointerEvent) => {\n    const gridItem: GridItemData = this.getGridItem(event?.currentTarget);\n    if (gridItem) {\n      gridItem.float = !gridItem.float;\n      let z = 0;\n      this.layoutData.filter(item => item.float).forEach(item => { z = z < item.z ? item.z : z});\n      if(gridItem.float){\n        \n        gridItem.z = z + 1;\n      }else {\n        gridItem.z = 0;\n      }\n    }\n    this.RenderIndex++;\n  }\n  //GridLayout的点击事件\n  onGridLayoutClick(event: any) {\n    if (event?.target?.closest(\".toolbar\")) return;\n    if (event?.target?.closest(\".grid-item\")) return;\n    if (event?.target?.closest(\"[slot]\")) return;\n    this.layoutData.forEach((item) => { delete item.selected });\n    this.styleMapEditing = false;\n    this.RenderIndex++;\n  }\n\n  //获取GridItem的TOP y座标\n  getGridItemTopY(dataList:GridItemData[], grid: ItemData,exceptIds:any[]) {\n    let { x, h, w, y } = grid;\n    let item: any = this.findBigestOverlapItem(dataList,x, y - this.gridMargin, w, h, exceptIds);\n    while (!item) {\n      y = y - this.gridMargin;\n      if (y <= this.gridMargin) {\n        y = this.gridMargin;\n        return { x, y }\n      }\n      item = this.findBigestOverlapItem(dataList,x, y - this.gridMargin, w, h, exceptIds);\n    }\n    return { x, y };\n  }\n  //计算交叉点\n  calcOverArea(data1: ItemData, data2: ItemData) {\n    const overX1 = Math.max(data1.x, data2.x);\n    const overX2 = Math.min(data1.x + data1.w, data2.x + data2.w);\n    const overW = overX2 - overX1;\n    const overY1 = Math.max(data1.y, data2.y);\n    const overY2 = Math.min(data1.y + data1.h, data2.y + data1.h);\n    const overH = overY2 - overY1;\n    const overArea = overH * overW;\n    return overArea;\n  }\n  \n  //排序上面有空白的地方\n  sortTopSpace(list:GridItemData[]) {\n    let maxWidth = Math.round(this.stageWidth / this.griddingWidth);\n    let maxHeight = Math.round(this.stageHeight / this.griddingWidth);\n\n    for(let sx = this.gridMargin; sx < maxWidth; sx += this.griddingWidth){\n      for(let sy = this.gridMargin; sy < maxHeight; sy += this.griddingWidth){\n        let w = this.griddingWidth;\n        let h = this.griddingWidth;\n        let item = this.findBigestOverlapItem(list, sx, sy, w, h, [this.curActiveGridItem?.id]);\n        if(item) {\n          let {x,y} = this.getGridItemTopY(list,item,[this.curActiveGridItem?.id,item.id]);\n          item.x = x;\n          item.y = y;\n          sy = item.y + item.h;\n        }\n      }\n    }\n  }\n  //排序底部重叠的地方\n  sortBottomOver(list:GridItemData[]) {\n   \n    for (let item of list) {\n      if(item.float) {\n        continue\n      }\n      if(this.curMovingGridItemData?.id === item.id) {\n        continue\n      }\n      this.pressDownOver(list,item);\n    }\n  }\n  //往下压\n  pressDownOver(list:GridItemData[], item:GridItemData){\n    let {id,x,y,w,h} = item;\n    let newList = this.findOverlapItem(list,x, y, w, h, [id,this.dragData?.id,this.curActiveGridItem?.id]);\n     \n      if (newList.length) {\n        for (let i = 0; i < newList.length; i++) {\n          newList[i].y = y + h + this.gridMargin;\n          this.pressDownOver(list,newList[i]);\n        }\n        \n      }\n  }\n  \n  //重新排序\n  rearrangement(){\n\n    let list = [...this.layoutData];\n    if(this.curActiveGridItem){\n      list = [...list,this.dragData]\n    }\n    this.sortBottomOver(list);\n    this.sortTopSpace(list);\n\n    this.layoutData = list.filter(item => {\n      if(item.id === DRAG_ID){\n        this.dragData = item;\n        return false;\n      }\n      return true\n    }).map(item => {\n      if(item.id === this.curActiveGridItem?.id){\n        return this.curActiveGridItem;\n      }\n      return item;\n    })\n    this.RenderIndex ++;\n  }\n  //向上\n  setZindexUp() {\n    if (!this.curSelectGridItem?.float) { \n      return\n    }\n    let floatGridItems = this.layoutData.filter(item => item.float);\n    floatGridItems = floatGridItems.sort((a:any,b:any)=> a.z - b.z);\n    floatGridItems.forEach((item,i) => {\n      item.z = i\n    });\n    let index = floatGridItems.findIndex((item) => item.id === this.curSelectGridItem?.id);\n    if(index >=  floatGridItems.length -1) return;\n    const item = floatGridItems.splice(index,1);\n    floatGridItems.splice(index + 1,0,item[0]);\n    floatGridItems.forEach((item,i) => {\n      item.z = i\n    });\n    this.RenderIndex ++;\n  }\n  //向下\n  setZindexDown() {\n    if (!this.curSelectGridItem?.float) { \n      return\n    }\n    let floatGridItems = this.layoutData.filter(item => item.float);\n    floatGridItems = floatGridItems.sort((a:any,b:any)=> a.z - b.z);\n    floatGridItems.forEach((item,i) => {\n      item.z = i\n    });\n    let index = floatGridItems.findIndex((item) => item.id === this.curSelectGridItem?.id);\n    if(index === 0) return;\n    const item = floatGridItems.splice(index,1);\n    floatGridItems.splice(index - 1,0,item[0]);\n    floatGridItems.forEach((item,i) => {\n      item.z = i\n    });\n    this.RenderIndex ++;;\n  }\n  renderStyleSet() {\n    return this.styleMapEditing ? html`\n    <div class=\"style-set\">\n      <label class=\"item\">\n        <span class=\"lab\">border-width:</span>\n        <div class=\"ctr\">\n          <input class=\"ctr-input\" type=\"number\" min=\"0\" max=\"10\" .value=\"${this.stylemap.borderWidth}\" @change=\"${(e:any)=>{this.stylemap.borderWidth = parseFloat(e.currentTarget.value);this.RenderIndex++}}\" />\n        </div>\n      </label>\n      <label class=\"item\">\n        <span class=\"lab\">border-style:</span>\n        <div class=\"ctr\">\n          <input  class=\"ctr-input\" min=\"0\" max=\"10\" .value=\"${this.stylemap.borderStyle}\" @change=\"${(e:any)=>{this.stylemap.borderStyle = e.currentTarget.value;this.RenderIndex++}}\" />\n        </div>\n      </label>\n      <label class=\"item\">\n        <span class=\"lab\">border-color:</span>\n        <div class=\"ctr\">\n          <input class=\"ctr-input\"  min=\"0\" max=\"10\" .value=\"${this.stylemap.borderColor}\" @change=\"${(e:any)=>{this.stylemap.borderColor = e.currentTarget.value;this.RenderIndex++}}\" />\n        </div>\n      </label>\n      <label class=\"item\">\n        <span class=\"lab\">background-color:</span>\n        <div class=\"ctr\">\n          <input class=\"ctr-input\" min=\"0\" max=\"10\" .value=\"${this.stylemap.backgroundColor}\" @change=\"${(e:any)=>{this.stylemap.backgroundColor = e.currentTarget.value;this.RenderIndex++}}\" />\n        </div>\n      </label>\n    </div>`:'';\n  }\n  renderToobar(){\n    if(!this.edit) return '';\n    return html`<div class=\"tool-box\">\n    <i class=\"el-icon set-float\">\n      <!--[-->\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-subtract\" viewBox=\"0 0 16 16\">\n        <path d=\"M0 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2h2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2H2a2 2 0 0 1-2-2V2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2z\"/>\n      </svg>\n      <!--]-->\n    </i>\n    <i class=\"el-icon close grid-item-close\" style=\"font-size:20px;\" >\n      <!--[-->\n      <svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"currentColor\" d=\"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z\"></path></svg>\n      <!--]-->\n    </i>\n  </div>\n  <div class=\"resize bottom-right\" @mousedown=\"${this.gridItemResizeStart}\" ></div>`\n\n  }\n  openSetStyle(){\n    this.styleMapEditing = !this.styleMapEditing;\n    this.RenderIndex++;\n  }\n  //当前活动的GridItem\n  get curActiveGridItem() {\n    return this.curMovingGridItemData || this.curResizingGridItemData || null;\n  }\n  //当前活动的GridItem style\n  get curActiveGridItemStyle() {\n    return this.curActiveGridItem?.style;\n  }\n  get curSelectGridItem(): GridItemData | undefined {\n    return this.layoutData.find(item => item.selected)\n  }\n  get stageHeight():number{\n    let list = [...this.layoutData]\n    if(this.dragData){\n      list = [this.dragData,...list];\n    }\n    let h = 0;\n    list.forEach(item => {\n      h = h < item.y + item.h?item.y + item.h:h;\n    })\n    h = h + this.gridMargin;\n    return h * this.griddingWidth;\n  }\n\n  render() {\n    \n    this.stageWidth = this.getBoundingClientRect().width;\n    return html`<div class=\"grid-layout\" @click=\"${this.onGridLayoutClick}\">\n    <div class=\"grid-sitting\" style=\"height:${this.stageHeight}px\"></div>\n    ${this.edit ? html`\n      <div class=\"toolbar\" >\n        <i class=\"el-icon add\" @click=\"${this.addGridItem}\" >\n          <!--[-->\n          <svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\" data-v-ea893728=\"\"><path fill=\"currentColor\" d=\"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z\"></path></svg>\n          <!--]-->\n        </i>\n        <i class=\"el-icon back\" @click=\"${this.backLayout}\">\n          <!--[-->\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-reply\" viewBox=\"0 0 16 16\">\n            <path d=\"M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z\"/>\n          </svg>\n          <!--]-->\n        </i>\n        <i class=\"el-icon forward\" @click=\"${this.forwardLayout}\">\n          <!--[-->\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-reply\" viewBox=\"0 0 16 16\">\n            <path d=\"M6.598 5.013a.144.144 0 0 1 .202.134V6.3a.5.5 0 0 0 .5.5c.667 0 2.013.005 3.3.822.984.624 1.99 1.76 2.595 3.876-1.02-.983-2.185-1.516-3.205-1.799a8.74 8.74 0 0 0-1.921-.306 7.404 7.404 0 0 0-.798.008h-.013l-.005.001h-.001L7.3 9.9l-.05-.498a.5.5 0 0 0-.45.498v1.153c0 .108-.11.176-.202.134L2.614 8.254a.503.503 0 0 0-.042-.028.147.147 0 0 1 0-.252.499.499 0 0 0 .042-.028l3.984-2.933zM7.8 10.386c.068 0 .143.003.223.006.434.02 1.034.086 1.7.271 1.326.368 2.896 1.202 3.94 3.08a.5.5 0 0 0 .933-.305c-.464-3.71-1.886-5.662-3.46-6.66-1.245-.79-2.527-.942-3.336-.971v-.66a1.144 1.144 0 0 0-1.767-.96l-3.994 2.94a1.147 1.147 0 0 0 0 1.946l3.994 2.94a1.144 1.144 0 0 0 1.767-.96v-.667z\"/>\n          </svg>\n          <!--]-->\n        </i>\n        <i class=\"el-icon save\" @click=\"${this.save}\">\n          <!--[-->\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-download\" viewBox=\"0 0 16 16\">\n            <path d=\"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z\"/>\n            <path d=\"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z\"/>\n          </svg>\n          <!--]-->\n        </i>\n        <i class=\"el-icon close\" @click=\"${this.close}\">\n          <!--[-->\n          <svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\" data-v-ea893728=\"\"><path fill=\"currentColor\" d=\"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z\"></path></svg>\n          <!--]-->\n        </i>\n        \n      </div>\n      \n      <div style=\"top:calc(40% + ${this.shadowRoot?.host.scrollTop}px);display:${this.curSelectGridItem ? 'flex' : 'none'}\"  class=\"toolbar vertical\">\n      <i class=\"el-icon z-index-up\" @click=\"${this.setZindexUp}\" style=\"display:${this.curSelectGridItem?.float ? 'flex' : 'none'}\">\n        <!--[-->\n          <svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\" data-v-ea893728=\"\"><path fill=\"currentColor\" d=\"M572.235 205.282v600.365a30.118 30.118 0 1 1-60.235 0V205.282L292.382 438.633a28.913 28.913 0 0 1-42.646 0 33.43 33.43 0 0 1 0-45.236l271.058-288.045a28.913 28.913 0 0 1 42.647 0L834.5 393.397a33.43 33.43 0 0 1 0 45.176 28.913 28.913 0 0 1-42.647 0l-219.618-233.23z\"></path></svg>\n        <!--]-->\n      </i>\n      <i class=\"el-icon z-index-down\" @click=\"${this.setZindexDown}\" style=\"display:${this.curSelectGridItem?.float ? 'flex' : 'none'}\">\n        <!--[-->\n          <svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\" data-v-ea893728=\"\"><path fill=\"currentColor\" d=\"M544 805.888V168a32 32 0 1 0-64 0v637.888L246.656 557.952a30.72 30.72 0 0 0-45.312 0 35.52 35.52 0 0 0 0 48.064l288 306.048a30.72 30.72 0 0 0 45.312 0l288-306.048a35.52 35.52 0 0 0 0-48 30.72 30.72 0 0 0-45.312 0L544 805.824z\"></path></svg>\n        <!--]-->\n      </i>\n      <div class=\"style-box\">\n        ${this.renderStyleSet()}\n        <i class=\"el-icon style-update-btn\"  @click=\"${this.openSetStyle}\" active=\"${this.styleMapEditing}\">\n          <!--[-->\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-border-style\" viewBox=\"0 0 16 16\">\n              <path d=\"M1 3.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-1zm0 4a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-1zm0 4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm8 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-4 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm8 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-4-4a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-5a.5.5 0 0 1-.5-.5v-1z\"/>\n            </svg>\n          <!--]-->\n        </i>\n      </div>\n    </div>\n    `: ''\n    }\n    \n    ${this.layoutData.map((item, i) => {\n      return html`\n      <div class=\"grid-item\"  data-index=\"${i}\" .griddingWidth=\"${this.griddingWidth}\"\n        selected=\"${item.selected}\"\n        float=\"${item.float}\"\n        edit=\"${this.edit}\"\n        @mousedown=\"${this.gridItemDragstart}\"\n        style=\"${this.getGridItemStyle(item)}\"\n        transition=\"${this.transition}\"\n        >\n        <slot name=\"${item.slot || ''}\"></slot>\n        ${this.renderToobar()}\n      </div>\n      `\n    })}\n    ${this.draggIng ? this.drawDragDataHtml() : ''}\n  </div>\n    `;\n  }\n  static styles = css`\n  :host {\n    display: block;\n    padding: 0px;\n    height:100%;\n    overflow-x: hidden;\n  }\n  :host::-webkit-scrollbar{\n    width: 8px;\n    background: #b3b3b3;\n   \n  }\n  :host::-webkit-scrollbar-thumb{\n    width: 8px;\n    background: #767676;\n    border-radius: 5px;\n  }\n  :host::-webkit-scrollbar-track{\n    background: transparent;\n    border-radius: 0px;\n  }\n  .grid-layout {\n    position: relative;\n    width: 100%;\n    height: 100%;\n  }\n  .toolbar {\n    position: absolute;\n    right:5px;\n    top:5px;\n    padding:2px 3px;\n    z-index: 999999;\n    display:flex;\n    background: #000;\n    box-shadow: 2px 2px 5px #000;\n    border-radius:3px;\n    opacity:0.7;\n  }\n  .toolbar.vertical {\n    top:20%;\n    right:5px;\n    flex-flow: column;\n  }\n  .toolbar .el-icon svg {\n    width:18px;\n    height: 18px;\n  }\n  .toolbar .el-icon {\n    cursor: pointer;\n    margin:3px 3px;\n    border:1px solid #dbdbdb;\n    border-radius: 3px;\n    padding: 3px;\n    display: inline-flex;\n    width: 18px;height: 18px;\n    background-color: #fff;\n    color:#333;\n  }\n  .toolbar .el-icon:hover {\n    background-color: #4097e4;\n    color:#fff;\n    opacity:0.7;\n  }\n\n  .toolbar .el-icon[active=\"true\"] {\n    background-color: #4097e4;\n    color:#fff;\n  }\n  .toolbar .el-icon:active{\n    background-color: rgb(131 177 217);\n    color:#fff;\n  }\n  .toolbar .el-icon.forward svg {\n    transform: scaleX(-1);\n  }\n  .old-data {\n    opacity: 0.3;\n  }\n  .grid-sitting {\n    width:100%;\n    top:0px;\n    position: absolute;\n    z-index:-1\n  }  \n  .grid-item {\n    display:block;\n    position:absolute;\n    min-width: 80px;\n    min-height: 50px;\n    border-radius: 3px;\n    overflow:hidden;\n    background-color:#fff;\n    border:1px solid #c3c3c3;\n    box-sizing: border-box;\n  }\n  .grid-item[transition=\"true\"] {\n    transition: all 0.3s;\n  }\n  .grid-item.move {\n    cursor:move;\n  }\n  .grid-item[selected=\"true\"] {\n    border-color:#79889d;\n    transition: none;\n    border-width: 1px;\n    border-style: dashed;\n  }\n  .grid-item[float=\"true\"] {\n    box-shadow:rgb(0, 0, 0) 5px 5px 24px -10px;\n  }\n  .grid-item[float=\"true\"] .tool-box .set-float {\n    opacity: 1;\n    color:#3250a7;\n  }\n  .grid-item:hover .resize {\n    display: flex;\n  }\n  .grid-item .bottom-right {\n   cursor: se-resize;\n   right: 4px;\n   bottom: 4px;\n   width: 10px;\n   height: 10px;\n   border-right: 3px solid #c3bebe;\n   border-bottom: 3px solid #c3bebe;\n  }\n  .grid-item .tool-box {\n   position: absolute;\n   top:5px;\n   right:10px;\n   display: flex;\n  }\n .grid-item  .tool-box .el-icon {\n   width:15px;\n   height:15px;\n   color:#929292;\n   padding:3px;\n   border-radius: 3px;\n   display: flex;\n }\n .grid-item .tool-box .el-icon:hover {\n   cursor:pointer;\n   opacity: 0.6;\n  }\n  .grid-item .resize > svg {\n    color: rgb(160 160 160)\n  }\n  .grid-item .resize:hover {\n    opacity: 0.6;\n  }\n\n  .grid-item[drag=true] {\n   opacity: 0.5;\n   background-color: rgb(249, 227, 193);\n   box-shadow: none;\n   border: none;\n   transition: none;\n }\n .grid-item[drag=true] .close,\n .grid-item[drag=true] .set-float {\n   display: none;\n }\n .resize {\n   position: absolute;\n }\n .style-box {\n  position:relative;\n }\n .style-set {\n  padding:10px;\n  position:absolute;\n  min-width:200px;\n  min-height:100px;\n  background:#000;\n  z-index:0;\n  top:0px;\n  right:40px;\n  border-radius:3px;\n  box-shadow:0px 0px 10px #000;\n  opacity:0.6;\n  color:#fff;\n }\n .style-set .item {\n  display:flex;\n  margin:5px 0px;\n }\n .style-set .item > span {\n  display: block;\n  min-width: 125px;\n  margin-right: 13px;\n  color: #e2e2e2;\n  font-size: 14px;\n }\n .style-set .ctr-input {\n  height: 20px;\n  width: 72px;\n  border: 1px solid rgb(0, 0, 0);\n  border-radius: 3px;\n }\n .toolbar .el-icon.style-update-btn:hover{\n  background-color:#fff;\n  color:#333;\n }\n .toolbar .el-icon.style-update-btn[active=\"true\"]{\n    background-color: #4097e4;\n    color:#fff;\n }\n`;\n}\n"]}